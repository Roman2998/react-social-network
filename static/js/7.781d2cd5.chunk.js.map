{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","hoc/withAuthRedirect.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","DialogItem","props","path","id","className","s","dialogItem","alt","src","to","activeClassName","activeLink","name","Message","message","AddMessageForm","initialValues","newMessageBody","validate","values","errors","length","onSubmit","setSubmitting","setTimeout","sendMessage","isSubmitting","component","placeholder","type","disabled","Dialogs","state","dialogsPage","dialogsElements","dialogs","map","d","messagesElements","messages","m","dialogsItems","mapStateToPropsForRedirect","isAuth","auth","compose","connect","dispatch","sendMessageCreator","Component","RedirectComponent","this","React"],"mappings":"6FACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,WAAa,4BAA4B,WAAa,4BAA4B,SAAW,0BAA0B,QAAU,2B,qGCapNC,EAVI,SAACC,GAChB,IAAIC,EAAO,YAAcD,EAAME,GAC/B,OACI,sBAAKC,UAAWC,IAAEC,WAAlB,UACI,qBAAKC,IAAI,OAAOC,IAAI,mIACpB,cAAC,IAAD,CAASC,GAAIP,EAAMQ,gBAAiBL,IAAEM,WAAtC,SAAmDV,EAAMW,WCGtDC,EATC,SAACZ,GACb,OACI,sBAAKG,UAAWC,IAAES,QAAlB,UACI,qBAAKP,IAAI,OAAOC,IAAI,mIACnBP,EAAMa,Y,SCuBbC,EAAiB,SAACd,GACpB,OACI,8BACI,cAAC,IAAD,CACIe,cAAe,CAACC,eAAgB,IAChCC,SAAU,SAAAC,GACN,IAAMC,EAAS,GAOf,OALKD,EAAOF,eAAeI,OAEhBF,EAAOF,eAAeI,OAAS,KACtCD,EAAOH,eAAP,oCAJe,GAIf,gBAFAG,EAAOH,eAAiB,4BAIrBG,GAEXE,SAAU,SAACH,EAAD,GAA8B,IAApBI,EAAmB,EAAnBA,cAChBC,YAAW,WACPvB,EAAMwB,YAAYN,EAAOF,gBACzBE,EAAOF,eAAiB,GACxBM,GAAc,KACf,MAjBX,SAqBK,gBAAEG,EAAF,EAAEA,aAAF,OACG,eAAC,IAAD,WACI,gCACI,cAAC,IAAD,CAAOd,KAAK,iBAAiBe,UAAU,WAChCC,YAAY,uBAEnB,cAAC,IAAD,CAAchB,KAAK,iBAAiBe,UAAU,WAElD,8BACI,wBAAQE,KAAK,SAASC,SAAUJ,EAAhC,+BAWbK,EApEC,SAAC9B,GAEb,IAAI+B,EAAQ/B,EAAMgC,YAEdC,EAAkBF,EAAMG,QAAQC,KAAI,SAAAC,GAAC,OAAI,cAAC,EAAD,CAAYzB,KAAMyB,EAAEzB,KAAiBT,GAAIkC,EAAElC,IAAZkC,EAAElC,OAC1EmC,EAAmBN,EAAMO,SAASH,KAAI,SAAAI,GAAC,OAAI,cAAC,EAAD,CAAS1B,QAAS0B,EAAE1B,SAAc0B,EAAErC,OAGnF,OACI,sBAAKC,UAAWC,IAAE8B,QAAlB,UACI,qBAAK/B,UAAWC,IAAEoC,aAAlB,SACKP,IAEL,sBAAK9B,UAAWC,IAAEkC,SAAlB,UACI,8BAAMD,IACN,8BACI,cAAC,EAAD,CAAgBb,YAAaxB,EAAMwB,uB,sDClBnDiB,EAA6B,SAACV,GAAD,MAAY,CACzCW,OAAQX,EAAMY,KAAKD,S,QCcRE,sBACXC,aAdkB,SAACd,GACrB,MAAO,CACHC,YAAaD,EAAMC,gBAGA,SAACc,GACxB,MAAO,CACHtB,YAAa,SAACR,GACV8B,EAASC,YAAmB/B,UDNN,SAACgC,GAAe,IACtCC,EADqC,4JAEvC,WACI,OAAKC,KAAKlD,MAAM0C,OACT,cAACM,EAAD,eAAeE,KAAKlD,QADI,cAAC,IAAD,CAAUQ,GAAG,eAHT,GACX2C,IAAMH,WAStC,OAFqCH,YAAQJ,EAARI,CAAoCI,KCG9DL,CAGbd","file":"static/js/7.781d2cd5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1wksu\",\"dialogsItems\":\"Dialogs_dialogsItems__27s1z\",\"dialogItem\":\"Dialogs_dialogItem__3gdh8\",\"activeLink\":\"Dialogs_activeLink__34fky\",\"messages\":\"Dialogs_messages__KPi61\",\"message\":\"Dialogs_message__3PjnK\"};","import React from \"react\";\r\nimport s from \"./../Dialogs.module.css\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst DialogItem = (props) => {\r\n    let path = \"/dialogs/\" + props.id;\r\n    return (\r\n        <div className={s.dialogItem}>\r\n            <img alt=\"user\" src=\"https://icon2.cleanpng.com/20180920/att/kisspng-user-logo-information-service-design-5ba34f886b6700.1362345615374293844399.jpg\"/>\r\n            <NavLink to={path} activeClassName={s.activeLink}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogItem;","import React from \"react\";\r\nimport s from \"./../Dialogs.module.css\"\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div className={s.message}>\r\n            <img alt=\"user\" src=\"https://icon2.cleanpng.com/20180920/att/kisspng-user-logo-information-service-design-5ba34f886b6700.1362345615374293844399.jpg\"/>\r\n            {props.message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Message;","import React from \"react\";\r\nimport s from \"./Dialogs.module.css\"\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport {Form, Formik, Field, ErrorMessage} from \"formik\";\r\n\r\nconst Dialogs = (props) => {\r\n\r\n    let state = props.dialogsPage;\r\n\r\n    let dialogsElements = state.dialogs.map(d => <DialogItem name={d.name} key={d.id} id={d.id}/>);\r\n    let messagesElements = state.messages.map(m => <Message message={m.message} key={m.id}/>);\r\n\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsItems}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={s.messages}>\r\n                <div>{messagesElements}</div>\r\n                <div>\r\n                    <AddMessageForm sendMessage={props.sendMessage}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst AddMessageForm = (props) => {\r\n    return (\r\n        <div>\r\n            <Formik\r\n                initialValues={{newMessageBody: ''}}\r\n                validate={values => {\r\n                    const errors = {}\r\n                    const textLength = 30;\r\n                    if (!values.newMessageBody.length) {\r\n                        errors.newMessageBody = 'Your message is too short';\r\n                    } else if (values.newMessageBody.length > 30) {\r\n                        errors.newMessageBody = `Your message is more than ${textLength} characters`;\r\n                    }\r\n                    return errors;\r\n               }}\r\n                onSubmit={(values, {setSubmitting}) => {\r\n                    setTimeout(() => {\r\n                        props.sendMessage(values.newMessageBody);\r\n                        values.newMessageBody = '';\r\n                        setSubmitting(false);\r\n                    }, 400);\r\n\r\n                }}\r\n            >\r\n                {({isSubmitting}) => (\r\n                    <Form>\r\n                        <div>\r\n                            <Field name='newMessageBody' component='textarea'\r\n                                   placeholder='Enter your message'\r\n                            />\r\n                            <ErrorMessage name=\"newMessageBody\" component='div'/>\r\n                        </div>\r\n                        <div>\r\n                            <button type=\"submit\" disabled={isSubmitting}>\r\n                                Submit\r\n                            </button>\r\n                        </div>\r\n                    </Form>\r\n                )}\r\n            </Formik>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialogs;","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to=\"/login\" />;\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}","import {sendMessageCreator} from \"../../Redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n      dialogsPage: state.dialogsPage,\r\n  }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n      sendMessage: (newMessageBody) => { //add newMessageBody\r\n          dispatch(sendMessageCreator(newMessageBody)); //add newMessageBody\r\n      }\r\n  }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs);"],"sourceRoot":""}