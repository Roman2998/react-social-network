{"version":3,"sources":["Redux/Auth/auth-reducer.js","components/HeaderLogin/HeaderLogin.module.css","components/common/Preloader/Preloader.js","components/Header/Header.module.css","Redux/Auth/auth-selectors.js","components/common/Preloader/Preloader.module.css","components/Sidebar/Sidebar.module.css","Redux/Profile/profile-reducer.js","api/api.js","Redux/Dialogs/dialogs-reducer.js","utils/object-helpers.js","Redux/Users/users-reducer.js","components/Content/Content.module.css","components/common/Button/Button.module.css","components/Body/Body.module.css","components/Header/HeaderBurger/HeaderBurger.module.css","reportWebVitals.js","Redux/App/app-reducer.js","Redux/Sidebar/sidebar-reducer.js","Redux/redux-store.js","hoc/withSuspense.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Content/Content.jsx","components/Navbar/Navbar.jsx","Redux/Sidebar/sidebar-selectors.js","components/common/Button/Button.jsx","components/HeaderLogin/HeaderLogin.jsx","components/HeaderLogin/HeaderLoginContainer.jsx","components/Sidebar/Sidebar.jsx","components/Body/Body.jsx","components/Header/HeaderBurger/HeaderBurger.jsx","components/Header/Header.jsx","App.js","index.js"],"names":["SET_USER_DATA","SET_LOGIN_SUCCESS","GET_CAPTCHA_URL_SUCCESS","initialState","id","login","email","isAuth","loginSuccess","error","captchaUrl","setAuthUserData","type","payload","getCaptchaUrlSuccess","setLoginSuccess","getAuthUserData","dispatch","a","authAPI","me","response","data","resultCode","password","rememberMe","captcha","getCaptchaUrl","messages","securityAPI","url","logout","authReducer","state","action","module","exports","Preloader","flag","className","classes","preloaderWrap","preloaderPulse","getIsAuth","auth","getAuthLogin","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","message","likesCount","profile","status","setStatus","addPostActionCreator","newPostText","getUserProfile","userId","profileAPI","getProfile","saveProfile","getState","Promise","reject","getStatus","updateStatus","savePhoto","file","photos","profileReducer","newPost","filter","p","postId","instance","axios","create","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","follow","post","unfollow","delete","put","photoFile","formData","FormData","append","SEND_MESSAGE","dialogs","name","sendMessageCreator","newMessageBody","dialogsReducer","body","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_IN_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","requestUsers","page","totalCount","count","followUnfollowFlow","apiMethod","actionCreator","bind","usersReducer","followed","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","INITIALIZED_SUCCESS","initialized","appReducer","TOGGLE_IS_SHOWED","friends","isShowed","toggleIsShowed","sidebarReducer","reducers","combineReducers","profilePage","dialogsPage","sidebar","usersPage","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","Component","props","fallback","News","Music","Settings","DialogsContainer","React","lazy","ProfileContainer","UsersContainer","LoginPage","Content","content","path","exact","render","to","component","Navbar","activeClassName","getIsShowed","Button","attr","button","children","HeaderLogin","loginUser","loginInfo","mapDispatchToProps","connect","onClick","e","document","style","overflowY","sidebarLogin","Body","burger","width","height","x","y","Header","header","logo","alt","src","headerLogin","App","catchAllUnhandledErrors","promiseRejectionEvent","this","initializeApp","addEventListener","removeEventListener","AppContainer","withRouter","promise","all","SamuraiJSApp","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.434d5f97.chunk.js","sourcesContent":["import {authAPI, securityAPI} from \"../../api/api\";\r\n\r\nconst SET_USER_DATA = 'samurai-network/auth/SET_USER_DATA';\r\nconst SET_LOGIN_SUCCESS = 'samurai-network/auth/SET_LOGIN_SUCCESS';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'samurai-network/auth/GET_CAPTCHA_URL_SUCCESS';\r\n\r\nlet initialState = {\r\n\tid: null,\r\n\tlogin: null,\r\n\temail: null,\r\n\tisAuth: false,\r\n\tloginSuccess: true,\r\n\terror: \"\",\r\n\tcaptchaUrl: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase SET_USER_DATA:\r\n\t\tcase GET_CAPTCHA_URL_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload\r\n\t\t\t}\r\n\t\tcase SET_LOGIN_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloginSuccess: action.loginSuccess,\r\n\t\t\t\terror: action.error\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const setAuthUserData = (id, login, email, isAuth) => ({\r\n\ttype: SET_USER_DATA,\r\n\tpayload: {id, login, email, isAuth}\r\n})\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n\ttype: GET_CAPTCHA_URL_SUCCESS,\r\n\tpayload: {captchaUrl}\r\n})\r\n\r\nconst setLoginSuccess = (loginSuccess, error) => ({type: SET_LOGIN_SUCCESS, loginSuccess, error})\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n\tlet response = await authAPI.me();\r\n\tif (response.data.resultCode === 0) {\r\n\t\tlet {id, login, email} = response.data.data;\r\n\t\tdispatch(setAuthUserData(id, login, email, true))\r\n\t}\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n\tlet response = await authAPI.login(email, password, rememberMe, captcha);\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(setLoginSuccess(true))\r\n\t\tdispatch(getAuthUserData())\r\n\t} else {\r\n\t\tif(response.data.resultCode === 10) {\r\n\t\t\tdispatch(getCaptchaUrl());\r\n\t\t}\r\n\t\tdispatch(setLoginSuccess(false, response.data.messages[0]))\r\n\t}\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n\tconst response = await securityAPI.getCaptchaUrl();\r\n\tconst captchaUrl = response.data.url;\r\n\tdispatch(getCaptchaUrlSuccess(captchaUrl));\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n\tlet response = await authAPI.logout();\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(setAuthUserData(null, null, null, false))\r\n\t}\r\n}\r\n\r\nexport default authReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"HeaderLogin_login__3-tLh\",\"loginUser\":\"HeaderLogin_loginUser__1FQzR\",\"loginInfo\":\"HeaderLogin_loginInfo__17EVv\"};","import React from 'react';\r\nimport classes from './Preloader.module.css'\r\n\r\nlet Preloader = ({ flag = true }) => {\r\n    if (!flag) return \"\";\r\n\r\n    return <section className={classes.preloaderWrap}>\r\n        <div className={classes.preloaderPulse}/>\r\n    </section>\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2eMNL\",\"logo\":\"Header_logo__2ELnF\",\"headerLogin\":\"Header_headerLogin__3ACPm\"};","export const getAuthorizedId = state => state.auth.id\r\nexport const getIsAuth = state => state.auth.isAuth\r\nexport const getAuthLogin = state => state.auth.login\r\nexport const getAuthCaptcha = state => state.auth.captchaUrl","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloaderWrap\":\"Preloader_preloaderWrap__xCnQd\",\"preloaderPulse\":\"Preloader_preloaderPulse__3A8p_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__1jD1U\",\"sidebarLogin\":\"Sidebar_sidebarLogin__1beG-\",\"sidebar-appear\":\"Sidebar_sidebar-appear__sqHMi\"};","import {profileAPI} from \"../../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\nlet initialState = {\r\n\tposts : [\r\n\t\t{id: 1, message: 'Hi, how are you?', likesCount:7},\r\n\t\t{id: 2, message: 'It\\'s my first post', likesCount:15},\r\n\t\t{id: 3, message: 'Blala', likesCount:13},\r\n\t\t{id: 4, message: 'DADA my first post', likesCount:18},\r\n\t],\r\n\tprofile: null,\r\n\tstatus: \"\"\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_POST: {\r\n\t\t\tlet newPost = {\r\n\t\t\t\tid: 5,\r\n\t\t\t\tmessage: action.newPostText, // state.newPostText --> action.newPostText\r\n\t\t\t\tlikesCount: 0\r\n\t\t\t};\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: [...state.posts, newPost],\r\n\t\t\t\t//newPostText: ''\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase SET_USER_PROFILE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: action.profile\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SET_STATUS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus: action.status\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase DELETE_POST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: state.posts.filter(p => p.id !== action.postId)\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SAVE_PHOTO_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: {...state.profile, photos:action.photos}\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status })\r\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST , newPostText}) //add newPostText\r\nexport const deletePost = (postId) => ({ type: DELETE_POST , postId})\r\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS , photos})\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n\tlet response = await profileAPI.getProfile(userId)\r\n\tdispatch(setUserProfile(response.data));\r\n}\r\n//\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n\tconst userId = getState().auth.id;\r\n\tconst response = await profileAPI.saveProfile(profile);\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(getUserProfile(userId));\r\n\t} else {\r\n\t\treturn Promise.reject(\"error\")\r\n\t}\r\n}\r\n//\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n\tlet response = await profileAPI.getStatus(userId)\r\n\tdispatch(setStatus(response.data));\r\n}\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n\ttry {\r\n\t\tlet response = await profileAPI.updateStatus(status)\r\n\t\tif (response.data.resultCode === 0) {\r\n\t\t\tdispatch(setStatus(status));\r\n\t\t}\r\n\t} catch (error) {\r\n\t\t// some error\r\n\t}\r\n\r\n}\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n\tlet response = await profileAPI.savePhoto(file)\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(savePhotoSuccess(response.data.data.photos));\r\n\t}\r\n}\r\n\r\n\r\nexport default profileReducer;","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n\tbaseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n\twithCredentials: true,\r\n\theaders: {\r\n\t\t\"API-KEY\": \"7fca7198-457b-49d1-9d95-e65a5077b01b\"\r\n\t}\r\n});\r\n\r\nexport const usersAPI = {\r\n\tgetUsers(currentPage = 1, pageSize = 1) {\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.data\r\n\t\t\t});\r\n\t},\r\n\tfollow(userId) {\r\n\t\treturn instance.post(`follow/${userId}`)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.data\r\n\t\t\t});\r\n\t},\r\n\tunfollow(userId) {\r\n\t\treturn instance.delete(`follow/${userId}`)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.data\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\nexport const profileAPI = {\r\n\tgetProfile(userId) {\r\n\t\treturn instance.get(`profile/${userId}`);\r\n\t},\r\n\t//\r\n\tsaveProfile(profile) {\r\n\t\treturn instance.put(`profile/`, profile);\r\n\t},\r\n\t//\r\n\tgetStatus(userId) {\r\n\t\treturn instance.get(`profile/status/${userId}`);\r\n\t},\r\n\tupdateStatus(status) {\r\n\t\treturn instance.put(`profile/status`, {status: status});\r\n\t},\r\n\tsavePhoto(photoFile) {\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append(\"image\", photoFile);\r\n\t\treturn instance.put(`profile/photo`, formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const authAPI = {\r\n\tme() {\r\n\t\treturn instance.get(`auth/me`);\r\n\t},\r\n\tlogin(email, password, rememberMe = false, captcha = null) {\r\n\t\treturn instance.post(`auth/login`, {email, password, rememberMe, captcha});\r\n\t},\r\n\tlogout() {\r\n\t\treturn instance.delete(`auth/login`);\r\n\t}\r\n}\r\n\r\nexport const securityAPI = {\r\n\tgetCaptchaUrl() {\r\n\t\treturn instance.get(`security/get-captcha-url`);\r\n\t}\r\n}","//const UPDATE_NEW_MESSAGE_BODY = 'UPDATE_NEW_MESSAGE_BODY';\r\nconst SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n\tdialogs: [\r\n\t\t{id: 1, name: 'Dimych'},\r\n\t\t{id: 2, name: 'Andrey'},\r\n\t\t{id: 3, name: 'Sveta'},\r\n\t\t{id: 4, name: 'Sasha'},\r\n\t\t{id: 5, name: 'Roman'}\r\n\t],\r\n\tmessages : [\r\n\t\t{id: 1, message: 'Hi'},\r\n\t\t{id: 2, message: 'Hi is your it?'},\r\n\t\t{id: 3, message: 'Yo'},\r\n\t\t{id: 4, message: 'Yo'},\r\n\t\t{id: 5, message: 'Yo'}\r\n\t],\r\n\t//newMessageBody: \"\"\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\t// case UPDATE_NEW_MESSAGE_BODY:\r\n\t\t// \treturn  {\r\n\t\t// \t\t...state,\r\n\t\t// \t\tnewMessageBody: action.body\r\n\t\t// \t};\r\n\t\tcase SEND_MESSAGE:\r\n\t\t\tlet body = action.newMessageBody; //state.newMessageBody--> action.newMessageBody\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t//newMessageBody: '',\r\n\t\t\t\tmessages: [...state.messages, {id: 6, message: body}]\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody }) //add newMessageBody\r\n// export const updateNewMessageBodyCreator = (body) =>\r\n// \t({ type: UPDATE_NEW_MESSAGE_BODY, body: body })\r\n\r\nexport default dialogsReducer;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n\treturn items.map(u => {\r\n\t\tif (u[objPropName] === itemId) {\r\n\t\t\treturn {...u, ...newObjProps}\r\n\t\t}\r\n\t\treturn u;\r\n\t})\r\n}","import {usersAPI} from \"../../api/api\";\r\nimport {updateObjectInArray} from \"../../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_IN_PROGRESS = 'TOGGLE_IS_FOLLOWING_IN_PROGRESS';\r\n\r\nlet initialState = {\r\n\tusers : [ ],\r\n\tpageSize: 10,\r\n\ttotalUsersCount: 0,\r\n\tcurrentPage: 1,\r\n\tisFetching: true,\r\n\tfollowingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase FOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, \"id\", {followed: true} )\r\n\t\t\t}\r\n\t\tcase UNFOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, \"id\", {followed: false} )\r\n\t\t\t}\r\n\t\tcase SET_USERS : {\r\n\t\t\treturn  { ...state, users: action.users }\r\n\t\t}\r\n\t\tcase SET_CURRENT_PAGE : {\r\n\t\t\treturn  { ...state, currentPage: action.currentPage}\r\n\t\t}\r\n\t\tcase SET_TOTAL_USERS_COUNT : {\r\n\t\t\treturn  { ...state, totalUsersCount: action.count}\r\n\t\t}\r\n\t\tcase TOGGLE_IS_FETCHING : {\r\n\t\t\treturn  { ...state, isFetching: action.isFetching}\r\n\t\t}\r\n\t\tcase TOGGLE_IS_FOLLOWING_IN_PROGRESS : {\r\n\t\t\treturn  {\r\n\t\t\t\t...state,\r\n\t\t\t\tfollowingInProgress: action.isFetching\r\n\t\t\t\t\t? [...state.followingInProgress, action.userId]\r\n\t\t\t\t\t: state.followingInProgress.filter(id => id !== action.userId)\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId })\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount })\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_IN_PROGRESS, isFetching, userId })\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch(toggleIsFetching(true));\r\n\t\tdispatch(setCurrentPage(page));\r\n\r\n\t\tlet data = await usersAPI.getUsers(page, pageSize);\r\n\t\tdispatch(toggleIsFetching(false));\r\n\t\tdispatch(setUsers(data.items));\r\n\t\tdispatch(setTotalUsersCount(data.totalCount));\r\n\t}\r\n}\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n\tdispatch(toggleFollowingProgress(true, userId));\r\n\r\n\tlet data = await apiMethod(userId);\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(actionCreator(userId))\r\n\t}\r\n\tdispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tfollowUnfollowFlow(dispatch,userId,usersAPI.follow.bind(usersAPI), followSuccess);\r\n\t}\r\n}\r\nexport const unfollow = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tfollowUnfollowFlow(dispatch,userId,usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n\r\n\t}\r\n}\r\n\r\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Content_content__3IPdm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__36udU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"Body_body__1UlHV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burger\":\"HeaderBurger_burger__RKu-g\",\"burgerLines\":\"HeaderBurger_burgerLines__2JeU6\"};","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import {getAuthUserData} from \"../Auth/auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n\tinitialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase INITIALIZED_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinitialized: true\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS})\r\n\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n\tlet promise = dispatch(getAuthUserData());\r\n\r\n\tPromise.all([promise])\r\n\t\t.then(() => {\r\n\t\t\tdispatch(initializedSuccess());\r\n\t\t});\r\n\r\n}\r\n\r\nexport default appReducer;","const TOGGLE_IS_SHOWED = \"TOGGLE-IS-SHOWED\";\r\n\r\nlet initialState = {\r\n\tfriends: [\r\n\t\t{id: 1, name: 'Dimych'},\r\n\t\t{id: 2, name: 'Andrey'},\r\n\t\t{id: 3, name: 'Sveta'},\r\n\t\t{id: 4, name: 'Sasha'},\r\n\t\t{id: 5, name: 'Roman'}\r\n\t],\r\n\tisShowed: false\r\n};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase TOGGLE_IS_SHOWED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisShowed: action.isShowed\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const toggleIsShowed = isShowed => ({type: TOGGLE_IS_SHOWED, isShowed});\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./Profile/profile-reducer\";\r\nimport dialogsReducer from \"./Dialogs/dialogs-reducer\";\r\nimport sidebarReducer from \"./Sidebar/sidebar-reducer\";\r\nimport usersReducer from \"./Users/users-reducer\";\r\nimport authReducer from \"./Auth/auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport appReducer from \"./App/app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n\tprofilePage: profileReducer,\r\n\tdialogsPage: dialogsReducer,\r\n\tsidebar: sidebarReducer,\r\n\tusersPage: usersReducer,\r\n\tauth: authReducer,\r\n\tapp: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React, {Suspense} from 'react';\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\n\r\nexport const withSuspense = Component =>\r\n\tprops =>\r\n\t\t<Suspense fallback={<Preloader flag={Component}/>}>\r\n\t\t\t<Component {...props} />\r\n\t\t</Suspense>","import React from \"react\";\r\n\r\nconst News = () => {\r\n  return (\r\n      <div>\r\n        News\r\n      </div>\r\n  )\r\n}\r\nexport default News;","import React from \"react\";\r\n\r\nconst Music = () => {\r\n  return (\r\n      <div>\r\n          Music\r\n      </div>\r\n  )\r\n}\r\nexport default Music;","import React from \"react\";\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\nexport default Settings;","import { Redirect, Route, Switch } from 'react-router-dom'\r\nimport { withSuspense } from '../../hoc/withSuspense'\r\nimport News from '../News/News'\r\nimport Music from '../Music/Music'\r\nimport Settings from '../Settings/Settings'\r\nimport React from 'react'\r\nimport classes from './Content.module.css'\r\n\r\nconst DialogsContainer = React.lazy(() => import('../Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('../Profile/ProfileContainer'));\r\nconst UsersContainer = React.lazy(() => import('../Users/UsersContainer'));\r\nconst LoginPage = React.lazy(() => import('../Login/Login'));\r\n\r\nconst Content = (props) => {\r\n  return (\r\n    <div className={`${classes.content} component`}>\r\n      <Switch>\r\n        <Route path={`/`} exact\r\n               render={() => <Redirect to={\"/profile\"}/>}/>\r\n        <Route path='/dialogs'\r\n               render={withSuspense(DialogsContainer)}/>\r\n        <Route path='/profile/:userId?'\r\n               render={withSuspense(ProfileContainer)}/>\r\n        <Route path='/users'\r\n               render={withSuspense(UsersContainer)}/>\r\n        <Route path='/login'\r\n               render={withSuspense(LoginPage)}/>\r\n        <Route path='/news'\r\n               render={() => <News/>}/>\r\n        <Route path='/music' component={Music}/>\r\n        <Route path='/settings' component={Settings}/>\r\n        <Route path='*' render={() => <div>404 NOT FOUND</div>}/>\r\n      </Switch>\r\n    </div>\r\n  )\r\n}\r\nexport default Content;","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst Navbar = (props) => {\r\n\treturn <nav className={`component component--sidebar`}>\r\n\t\t<NavLink to=\"/profile\" activeClassName={`sidebar--item--active`} className={`sidebar--item`}>\r\n\t\t\tProfile\r\n\t\t</NavLink>\r\n\t\t<NavLink to=\"/dialogs\" activeClassName={`sidebar--item--active`} className={`sidebar--item`}>\r\n\t\t\tMessages\r\n\t\t</NavLink>\r\n\t\t<NavLink to=\"/users\" activeClassName={`sidebar--item--active`} className={`sidebar--item`}>\r\n\t\t\tUsers\r\n\t\t</NavLink>\r\n\t\t<NavLink to=\"/news\" activeClassName={`sidebar--item--active`} className={`sidebar--item`}>\r\n\t\t\tNews\r\n\t\t</NavLink>\r\n\t\t<NavLink to=\"/music\" activeClassName={`sidebar--item--active`} className={`sidebar--item`}>\r\n\t\t\tMusic\r\n\t\t</NavLink>\r\n\t\t<NavLink to=\"/settings\" activeClassName={`sidebar--item--active`} className={`sidebar--item`}>\r\n\t\t\tSettings\r\n\t\t</NavLink>\r\n\t</nav>\r\n}\r\n\r\nexport default Navbar","//export const getSidebarFriends = state => state.sidebar.friends\r\nexport const getIsShowed = state => state.sidebar.isShowed","import React from \"react\";\r\nimport classes from \"./Button.module.css\";\r\n\r\nconst Button = props => {\r\n  let {className, attr} = props;\r\n\r\n  className = className ? className : \"\";\r\n\r\n  return <button {...attr} className={`${classes.button} ${className}`}>{props.children}</button>\r\n}\r\n\r\nexport default Button;\r\n","import classes from \"./HeaderLogin.module.css\";\r\nimport { NavLink } from 'react-router-dom'\r\nimport Button from '../common/Button/Button'\r\n\r\nconst HeaderLogin = ({isAuth, login, logout, ...props}) => {\r\n  const className = props.className ? props.className : \"\"\r\n\r\n  return (\r\n    <div className={`${classes.login} ${className}`}>\r\n      {isAuth\r\n        ? <div className={classes.loginUser}>\r\n          <NavLink to={\"/profile\"} className={classes.loginInfo}>{login}</NavLink>\r\n          <Button attr={{\"onClick\": logout}}>Log Out</Button>\r\n        </div>\r\n        : <NavLink className={classes.loginInfo} to={`/login`}>Login</NavLink>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default HeaderLogin;","import HeaderLogin from './HeaderLogin'\r\nimport { compose } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport { getAuthLogin, getIsAuth } from '../../Redux/Auth/auth-selectors'\r\nimport { logout } from '../../Redux/Auth/auth-reducer'\r\n\r\nconst HeaderLoginContainer = props => <HeaderLogin {...props} />\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuth: getIsAuth(state),\r\n  login: getAuthLogin(state)\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  logout\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps)\r\n)(HeaderLoginContainer);\r\n","import Navbar from '../Navbar/Navbar'\r\nimport classes from './Sidebar.module.css'\r\nimport { getIsShowed } from '../../Redux/Sidebar/sidebar-selectors'\r\nimport { toggleIsShowed } from '../../Redux/Sidebar/sidebar-reducer'\r\nimport { compose } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport HeaderLoginContainer from '../HeaderLogin/HeaderLoginContainer'\r\n\r\nconst Sidebar= ({isShowed, toggleIsShowed, ...props}) => {\r\n\r\n  const closeSidebar = e => {\r\n    toggleIsShowed(false);\r\n    document.body.style.overflowY = \"unset\";\r\n  };\r\n\r\n  return (\r\n    <div className={classes.sidebar} data-show={isShowed} onClick={closeSidebar}>\r\n      <Navbar/>\r\n      <HeaderLoginContainer className={`component component--sidebar ${classes.sidebarLogin}`}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isShowed: getIsShowed(state)\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  toggleIsShowed\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps)\r\n)(Sidebar);","import Content from '../Content/Content'\r\nimport Sidebar from '../Sidebar/Sidebar'\r\nimport classes from './Body.module.css'\r\n\r\nconst Body = (props) => {\r\n  return (\r\n    <div className={classes.body}>\r\n      <Sidebar/>\r\n      <Content/>\r\n    </div>\r\n  )\r\n}\r\nexport default Body;","import classes from \"./HeaderBurger.module.css\";\r\nimport { compose } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport { toggleIsShowed } from '../../../Redux/Sidebar/sidebar-reducer'\r\n\r\nconst HeaderBurger = ({toggleIsShowed}) => {\r\n  const openSidebar = e => {\r\n    document.body.style.overflowY = \"hidden\";\r\n    return toggleIsShowed(true);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.burger} onClick={openSidebar}>\r\n      <svg>\r\n        <g>\r\n          <rect width={\"3px\"} height={\"3px\"} x={\"0\"} y={\"0\"}/>\r\n          <rect width={\"3px\"} height={\"3px\"} x={\"0\"} y={\"10\"}/>\r\n          <rect width={\"3px\"} height={\"3px\"} x={\"0\"} y={\"20\"}/>\r\n        </g>\r\n        <g>\r\n          <rect width={\"3px\"} height={\"3px\"} x={\"10\"} y={\"0\"}/>\r\n          <rect width={\"3px\"} height={\"3px\"} x={\"10\"} y={\"10\"}/>\r\n          <rect width={\"3px\"} height={\"3px\"} x={\"10\"} y={\"20\"}/>\r\n\r\n        </g>\r\n        <g>\r\n          <rect width={\"3px\"} height={\"3px\"} x={\"20\"} y={\"0\"}/>\r\n          <rect width={\"3px\"} height={\"3px\"} x={\"20\"} y={\"10\"}/>\r\n          <rect width={\"3px\"} height={\"3px\"} x={\"20\"} y={\"20\"}/>\r\n        </g>\r\n      </svg>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default compose(\r\n  connect(null, {toggleIsShowed})\r\n)(HeaderBurger);","import React from 'react'\r\nimport classes from './Header.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\nimport HeaderLoginContainer from '../HeaderLogin/HeaderLoginContainer'\r\nimport HeaderBurger from './HeaderBurger/HeaderBurger'\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={`${classes.header} component`}>\r\n      <NavLink to={'/profile'} className={classes.logo}>\r\n        <img alt=\"logo\"\r\n             src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Instagram_logo_2016.svg/768px-Instagram_logo_2016.svg.png\"/>\r\n      </NavLink>\r\n\r\n      <div className={classes.headerLogin}>\r\n        <HeaderLoginContainer/>\r\n      </div>\r\n\r\n      <HeaderBurger/>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header","import React from 'react';\r\nimport './App.css';\r\nimport {BrowserRouter, withRouter} from \"react-router-dom\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./Redux/App/app-reducer\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport store from \"./Redux/redux-store\";\r\nimport Body from './components/Body/Body'\r\nimport Header from './components/Header/Header'\r\n\r\n\r\nclass App extends React.Component {\r\n\tcatchAllUnhandledErrors = (promiseRejectionEvent) => {\r\n\t\t//alert(\"Some error occurred\");\r\n\t\t//console.error(promiseRejectionEvent);\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tthis.props.initializeApp();\r\n\t\twindow.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\twindow.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\tif (!this.props.initialized) {\r\n\t\t\treturn <Preloader/>\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className='app-wrapper'>\r\n\t\t\t\t<Header/>\r\n\t\t\t\t<Body/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tinitialized: state.app.initialized\r\n})\r\n\r\nlet AppContainer = compose(\r\n\twithRouter,\r\n\tconnect(mapStateToProps, {initializeApp})\r\n)(App);\r\n\r\nconst SamuraiJSApp = () => {\r\n\treturn <BrowserRouter>\r\n\t\t<Provider store={store}>\r\n\t\t\t<AppContainer/>\r\n\t\t</Provider>\r\n\t</BrowserRouter>\r\n}\r\nexport default SamuraiJSApp;","import reportWebVitals from './reportWebVitals';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport SamuraiJSApp from './App';\r\n\r\n\r\nReactDOM.render(<SamuraiJSApp />, document.getElementById('root'));\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}