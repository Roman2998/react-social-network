{"version":3,"sources":["reportWebVitals.js","Redux/Sidebar/sidebar-reducer.js","Redux/redux-store.js","hoc/withSuspense.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Content/Content.jsx","components/Navbar/Navbar.jsx","Redux/Sidebar/sidebar-selectors.js","components/HeaderLogin/HeaderLogin.jsx","components/HeaderLogin/HeaderLoginContainer.jsx","components/common/DarkMode/DarkMode.jsx","components/Sidebar/Sidebar.jsx","components/Body/Body.jsx","logo.svg","components/Header/HeaderBurger/HeaderBurger.jsx","components/Header/Header.jsx","App.js","index.js","Redux/Auth/auth-reducer.js","Redux/App/app-reducer.js","components/HeaderLogin/HeaderLogin.module.css","components/Header/Header.module.css","components/common/Preloader/Preloader.js","components/Sidebar/Sidebar.module.css","Redux/Auth/auth-selectors.js","components/common/Preloader/Preloader.module.css","components/common/Button/Button.jsx","Redux/Profile/profile-reducer.js","Redux/Dialogs/dialogs-reducer.js","api/api.js","utils/object-helpers.js","Redux/Users/users-reducer.js","components/Content/Content.module.css","components/common/Button/Button.module.css","components/Body/Body.module.css","components/Header/HeaderBurger/HeaderBurger.module.css"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","TOGGLE_IS_SHOWED","initialState","friends","id","name","isShowed","toggleIsShowed","type","sidebarReducer","state","action","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","sidebar","usersPage","usersReducer","auth","authReducer","form","formReducer","app","appReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","Component","props","fallback","Preloader","flag","News","Music","Settings","MessagesContainer","React","lazy","ProfileContainer","UsersContainer","LoginPage","Content","className","classes","content","path","exact","render","to","component","Navbar","activeClassName","getIsShowed","HeaderLogin","isAuth","login","logout","loginUser","loginInfo","Button","attr","mapDispatchToProps","connect","getIsAuth","getAuthLogin","setDark","localStorage","setItem","document","documentElement","setAttribute","storedTheme","getItem","prefersDark","matchMedia","matches","defaultDark","toggleTheme","e","target","checked","DarkMode","htmlFor","onChange","defaultChecked","DialogsContainer","onClick","body","style","overflowY","sidebarLogin","sidebarDarkMode","Body","burger","width","height","x","y","Header","header","logo","src","alt","darkMode","headerLogin","App","catchAllUnhandledErrors","promiseRejectionEvent","this","initializeApp","addEventListener","removeEventListener","initialized","AppContainer","withRouter","SamuraiJSApp","ReactDOM","getElementById","SET_USER_DATA","SET_LOGIN_SUCCESS","GET_CAPTCHA_URL_SUCCESS","email","loginSuccess","error","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","setLoginSuccess","getAuthUserData","dispatch","a","authAPI","me","response","data","resultCode","password","rememberMe","captcha","getCaptchaUrl","messages","securityAPI","url","INITIALIZED_SUCCESS","HAS_ERROR","errorData","hasError","errorMessage","toggleHasError","promise","Promise","all","module","exports","preloaderWrap","preloaderPulse","getAuthorizedId","getAuthCaptcha","button","children","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","TOGGLE_IS_FETCHING","posts","post","likesCount","profile","status","isFetching","setStatus","toggleIsFetching","addPostTC","newPost","newPostText","reset","getProfile","userId","usersAPI","msg","message","getStatus","profileAPI","updateStatus","savePhoto","file","photos","updateProfile","getState","stopSubmit","_error","reject","filter","p","postId","SEND_MESSAGE","dialogs","mine","sendMessageTC","sendMessage","newMessage","instance","axios","create","baseURL","withCredentials","headers","getUsers","currentPage","pageSize","get","follow","unfollow","delete","put","photoFile","formData","FormData","append","updateObjectInArray","items","itemId","objPropName","newObjProps","map","el","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FOLLOWING_IN_PROGRESS","users","totalUsersCount","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleFollowingProgress","requestUsers","page","totalCount","count","followUnfollowFlow","apiMethod","actionCreator","bind","followed"],"mappings":"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","file":"static/js/main.e56d9967.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","const TOGGLE_IS_SHOWED = \"TOGGLE-IS-SHOWED\";\r\n\r\nlet initialState = {\r\n\tfriends: [\r\n\t\t{id: 1, name: 'Dimych'},\r\n\t\t{id: 2, name: 'Andrey'},\r\n\t\t{id: 3, name: 'Sveta'},\r\n\t\t{id: 4, name: 'Sasha'},\r\n\t\t{id: 5, name: 'Roman'}\r\n\t],\r\n\tisShowed: false\r\n};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase TOGGLE_IS_SHOWED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisShowed: action.isShowed\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const toggleIsShowed = isShowed => ({type: TOGGLE_IS_SHOWED, isShowed});\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./Profile/profile-reducer\";\r\nimport dialogsReducer from \"./Dialogs/dialogs-reducer\";\r\nimport sidebarReducer from \"./Sidebar/sidebar-reducer\";\r\nimport usersReducer from \"./Users/users-reducer\";\r\nimport authReducer from \"./Auth/auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\";\r\nimport appReducer from \"./App/app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n\tprofilePage: profileReducer,\r\n\tdialogsPage: dialogsReducer,\r\n\tsidebar: sidebarReducer,\r\n\tusersPage: usersReducer,\r\n\tauth: authReducer,\r\n\tform: formReducer,\r\n\tapp: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React, {Suspense} from 'react';\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\n\r\nexport const withSuspense = Component =>\r\n\tprops =>\r\n\t\t<Suspense fallback={<Preloader flag={Component}/>}>\r\n\t\t\t<Component {...props} />\r\n\t\t</Suspense>","import React from \"react\";\r\n\r\nconst News = () => {\r\n  return (\r\n      <div>\r\n        News\r\n      </div>\r\n  )\r\n}\r\nexport default News;","import React from \"react\";\r\n\r\nconst Music = () => {\r\n  return (\r\n      <div>\r\n          Music\r\n      </div>\r\n  )\r\n}\r\nexport default Music;","import React from \"react\";\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\nexport default Settings;","import { Redirect, Route, Switch } from 'react-router-dom'\r\nimport { withSuspense } from '../../hoc/withSuspense'\r\nimport News from '../News/News'\r\nimport Music from '../Music/Music'\r\nimport Settings from '../Settings/Settings'\r\nimport React from 'react'\r\nimport classes from './Content.module.css'\r\n\r\nconst MessagesContainer = React.lazy(() => import('../Messages/MessagesContainer'));\r\nconst ProfileContainer = React.lazy(() => import('../Profile/ProfileContainer'));\r\nconst UsersContainer = React.lazy(() => import('../Users/UsersContainer'));\r\nconst LoginPage = React.lazy(() => import('../Login/Login'));\r\n\r\nconst Content = (props) => {\r\n  return (\r\n    <div className={`${classes.content} component`}>\r\n      <Switch>\r\n        <Route path={`/`} exact\r\n               render={() => <Redirect to={\"/profile\"}/>}/>\r\n        <Route path='/dialogs'\r\n               render={withSuspense(MessagesContainer)}/>\r\n        <Route path='/profile/:userId?'\r\n               render={withSuspense(ProfileContainer)}/>\r\n        <Route path='/users'\r\n               render={withSuspense(UsersContainer)}/>\r\n        <Route path='/login'\r\n               render={withSuspense(LoginPage)}/>\r\n        <Route path='/news' render={() => <News/>}/>\r\n        <Route path='/music' component={Music}/>\r\n        <Route path='/settings' component={Settings}/>\r\n        <Route path='*' render={() => <div>404 NOT FOUND</div>}/>\r\n      </Switch>\r\n    </div>\r\n  )\r\n}\r\nexport default Content;","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst Navbar = (props) => {\r\n\treturn <nav className={`component component--sidebar`}>\r\n\t\t<NavLink to=\"/profile\" activeClassName={`sidebar--item--active`} className={`sidebar--item`}>\r\n\t\t\tProfile\r\n\t\t</NavLink>\r\n\t\t<NavLink to=\"/dialogs\" activeClassName={`sidebar--item--active`} className={`sidebar--item`}>\r\n\t\t\tMessages\r\n\t\t</NavLink>\r\n\t\t<NavLink to=\"/users\" activeClassName={`sidebar--item--active`} className={`sidebar--item`}>\r\n\t\t\tUsers\r\n\t\t</NavLink>\r\n\t\t<NavLink to=\"/news\" activeClassName={`sidebar--item--active`} className={`sidebar--item`}>\r\n\t\t\tNews\r\n\t\t</NavLink>\r\n\t\t<NavLink to=\"/music\" activeClassName={`sidebar--item--active`} className={`sidebar--item`}>\r\n\t\t\tMusic\r\n\t\t</NavLink>\r\n\t\t<NavLink to=\"/settings\" activeClassName={`sidebar--item--active`} className={`sidebar--item`}>\r\n\t\t\tSettings\r\n\t\t</NavLink>\r\n\t</nav>\r\n}\r\n\r\nexport default Navbar","//export const getSidebarFriends = state => state.sidebar.friends\r\nexport const getIsShowed = state => state.sidebar.isShowed","import classes from \"./HeaderLogin.module.css\";\r\nimport { NavLink } from 'react-router-dom'\r\nimport Button from '../common/Button/Button'\r\n\r\nconst HeaderLogin = ({isAuth, login, logout, ...props}) => {\r\n  const className = props.className ? props.className : \"\"\r\n\r\n  return (\r\n    <div className={`${classes.login} ${className}`}>\r\n      {isAuth\r\n        ? <div className={classes.loginUser}>\r\n          <NavLink to={\"/profile\"} className={classes.loginInfo}>{login}</NavLink>\r\n          <Button attr={{\"onClick\": logout}}>Log Out</Button>\r\n        </div>\r\n        : <NavLink className={classes.loginInfo} to={`/login`}>Login</NavLink>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default HeaderLogin;","import HeaderLogin from './HeaderLogin'\r\nimport { compose } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport { getAuthLogin, getIsAuth } from '../../Redux/Auth/auth-selectors'\r\nimport { logout } from '../../Redux/Auth/auth-reducer'\r\n\r\nconst HeaderLoginContainer = props => <HeaderLogin {...props} />\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuth: getIsAuth(state),\r\n  login: getAuthLogin(state)\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  logout\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps)\r\n)(HeaderLoginContainer);\r\n","import classes from \"../../../index.css\"\r\nimport { ChangeEventHandler } from \"react\";\r\n\r\nconst setDark = () => {\r\n\tlocalStorage.setItem(\"theme\", \"dark\");\r\n\tdocument.documentElement.setAttribute(\"data-theme\", \"dark\");\r\n};\r\n\r\nconst setLight = () => {\r\n\tlocalStorage.setItem(\"theme\", \"light\");\r\n\tdocument.documentElement.setAttribute(\"data-theme\", \"light\");\r\n};\r\nconst storedTheme = localStorage.getItem(\"theme\");\r\n\r\nconst prefersDark =\r\n\twindow.matchMedia &&\r\n\twindow.matchMedia(\"(prefers-color-scheme: dark)\").matches;\r\n\r\nconst defaultDark =\r\n\tstoredTheme === \"dark\" || (storedTheme === null && prefersDark);\r\n\r\nif (defaultDark) {\r\n\tsetDark();\r\n}\r\n\r\nconst toggleTheme: ChangeEventHandler<HTMLInputElement> = (e) => {\r\n\tif (e.target.checked) {\r\n\t\tsetDark();\r\n\t} else {\r\n\t\tsetLight();\r\n\t}\r\n};\r\n\r\nconst DarkMode = ({...props}) => {\r\n\tconst className = props.className ? props.className : \"\"\r\n\treturn (\r\n\t\t<div className={`toggle-theme-wrapper ${className}`}>\r\n\t\t\t<span>☀️</span>\r\n\t\t\t<label className=\"toggle-theme\" htmlFor=\"checkbox\">\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\tid=\"checkbox\"\r\n\t\t\t\t\tonChange={toggleTheme}\r\n\t\t\t\t\tdefaultChecked={defaultDark}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"slider round\"></div>\r\n\t\t\t</label>\r\n\t\t\t<span>🌒</span>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default DarkMode;","import React from 'react'\r\nimport Navbar from '../Navbar/Navbar'\r\nimport classes from './Sidebar.module.css'\r\nimport { getIsShowed } from '../../Redux/Sidebar/sidebar-selectors'\r\nimport { toggleIsShowed } from '../../Redux/Sidebar/sidebar-reducer'\r\nimport { compose } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport HeaderLoginContainer from '../HeaderLogin/HeaderLoginContainer'\r\nimport { withSuspense } from '../../hoc/withSuspense'\r\nimport { Route } from 'react-router-dom'\r\nimport DarkMode from '../common/DarkMode/DarkMode'\r\n\r\nconst DialogsContainer = React.lazy(() => import('../Dialogs/DialogsContainer'))\r\n\r\nconst Sidebar = ({ isShowed, toggleIsShowed, ...props }) => {\r\n\r\n\tconst closeSidebar = e => {\r\n\t\ttoggleIsShowed(false)\r\n\t\tdocument.body.style.overflowY = 'unset'\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={classes.sidebar} data-show={isShowed} onClick={closeSidebar}>\r\n\t\t\t<Navbar/>\r\n\t\t\t<Route path={'/dialogs'} render={withSuspense(DialogsContainer)}/>\r\n\t\t\t<HeaderLoginContainer className={`component component--sidebar ${classes.sidebarLogin}`}/>\r\n\t\t\t<DarkMode className={`component component--sidebar ${classes.sidebarDarkMode}`}/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tisShowed: getIsShowed(state)\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n\ttoggleIsShowed\r\n}\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchToProps)\r\n)(Sidebar)","import Content from '../Content/Content'\r\nimport Sidebar from '../Sidebar/Sidebar'\r\nimport classes from './Body.module.css'\r\n\r\nconst Body = (props) => {\r\n  return (\r\n    <div className={classes.body}>\r\n      <Sidebar/>\r\n      <Content/>\r\n    </div>\r\n  )\r\n}\r\nexport default Body;","export default __webpack_public_path__ + \"static/media/logo.72e996f8.svg\";","import classes from \"./HeaderBurger.module.css\";\r\nimport { compose } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport { toggleIsShowed } from '../../../Redux/Sidebar/sidebar-reducer'\r\n\r\nconst HeaderBurger = ({toggleIsShowed}) => {\r\n  const openSidebar = e => {\r\n    document.body.style.overflowY = \"hidden\";\r\n    return toggleIsShowed(true);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.burger} onClick={openSidebar}>\r\n      <svg>\r\n        <g>\r\n          <rect width={\"3px\"} height={\"3px\"} x={\"0\"} y={\"0\"}/>\r\n          <rect width={\"3px\"} height={\"3px\"} x={\"0\"} y={\"10\"}/>\r\n          <rect width={\"3px\"} height={\"3px\"} x={\"0\"} y={\"20\"}/>\r\n        </g>\r\n        <g>\r\n          <rect width={\"3px\"} height={\"3px\"} x={\"10\"} y={\"0\"}/>\r\n          <rect width={\"3px\"} height={\"3px\"} x={\"10\"} y={\"10\"}/>\r\n          <rect width={\"3px\"} height={\"3px\"} x={\"10\"} y={\"20\"}/>\r\n\r\n        </g>\r\n        <g>\r\n          <rect width={\"3px\"} height={\"3px\"} x={\"20\"} y={\"0\"}/>\r\n          <rect width={\"3px\"} height={\"3px\"} x={\"20\"} y={\"10\"}/>\r\n          <rect width={\"3px\"} height={\"3px\"} x={\"20\"} y={\"20\"}/>\r\n        </g>\r\n      </svg>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default compose(\r\n  connect(null, {toggleIsShowed})\r\n)(HeaderBurger);","import React from 'react'\r\nimport classes from './Header.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\nimport logo from './../../logo.svg'\r\nimport HeaderLoginContainer from '../HeaderLogin/HeaderLoginContainer'\r\nimport HeaderBurger from './HeaderBurger/HeaderBurger'\r\nimport DarkMode from '../common/DarkMode/DarkMode'\r\n\r\nconst Header = (props) => {\r\n\treturn (\r\n\t\t<header className={`${classes.header} component`}>\r\n\t\t\t<NavLink to={'/profile'} className={classes.logo}>\r\n\t\t\t\t<img src={logo} alt=\"logo\"/>\r\n\t\t\t</NavLink>\r\n\r\n\t\t\t<div className={classes.darkMode}>\r\n\t\t\t\t<DarkMode/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={classes.headerLogin}>\r\n\t\t\t\t<HeaderLoginContainer/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<HeaderBurger/>\r\n\t\t</header>\r\n\t)\r\n}\r\n\r\nexport default Header","import React from 'react';\r\nimport './App.css';\r\nimport { BrowserRouter, HashRouter, withRouter } from 'react-router-dom'\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./Redux/App/app-reducer\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport store from \"./Redux/redux-store\";\r\nimport Body from './components/Body/Body'\r\nimport Header from './components/Header/Header'\r\n\r\n\r\nclass App extends React.Component {\r\n\tcatchAllUnhandledErrors = (promiseRejectionEvent) => {\r\n\t\t//alert(\"Some error occurred\");\r\n\t\t//console.error(promiseRejectionEvent);\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tthis.props.initializeApp();\r\n\t\twindow.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\twindow.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\tif (!this.props.initialized) {\r\n\t\t\treturn <Preloader/>\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className='app-wrapper'>\r\n\t\t\t\t<Header/>\r\n\t\t\t\t<Body/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tinitialized: state.app.initialized\r\n})\r\n\r\nlet AppContainer = compose(\r\n\twithRouter,\r\n\tconnect(mapStateToProps, {initializeApp})\r\n)(App);\r\n\r\nconst SamuraiJSApp = () => {\r\n\treturn <HashRouter>\r\n\t\t<Provider store={store}>\r\n\t\t\t<AppContainer/>\r\n\t\t</Provider>\r\n\t</HashRouter>\r\n}\r\nexport default SamuraiJSApp;","import reportWebVitals from './reportWebVitals';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport SamuraiJSApp from './App';\r\n\r\n\r\nReactDOM.render(<SamuraiJSApp />, document.getElementById('root'));\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import {authAPI, securityAPI} from \"../../api/api\";\r\n\r\nconst SET_USER_DATA = 'samurai-network/auth/SET_USER_DATA';\r\nconst SET_LOGIN_SUCCESS = 'samurai-network/auth/SET_LOGIN_SUCCESS';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'samurai-network/auth/GET_CAPTCHA_URL_SUCCESS';\r\n\r\nlet initialState = {\r\n\tid: null,\r\n\tlogin: null,\r\n\temail: null,\r\n\tisAuth: false,\r\n\tloginSuccess: true,\r\n\terror: \"\",\r\n\tcaptchaUrl: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase SET_USER_DATA:\r\n\t\tcase GET_CAPTCHA_URL_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload\r\n\t\t\t}\r\n\t\tcase SET_LOGIN_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloginSuccess: action.loginSuccess,\r\n\t\t\t\terror: action.error\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const setAuthUserData = (id, login, email, isAuth) => ({\r\n\ttype: SET_USER_DATA,\r\n\tpayload: {id, login, email, isAuth}\r\n})\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n\ttype: GET_CAPTCHA_URL_SUCCESS,\r\n\tpayload: {captchaUrl}\r\n})\r\n\r\nconst setLoginSuccess = (loginSuccess, error) => ({type: SET_LOGIN_SUCCESS, loginSuccess, error})\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n\tlet response = await authAPI.me();\r\n\tif (response.data.resultCode === 0) {\r\n\t\tlet {id, login, email} = response.data.data;\r\n\t\tdispatch(setAuthUserData(id, login, email, true))\r\n\t}\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n\tlet response = await authAPI.login(email, password, rememberMe, captcha);\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(setLoginSuccess(true))\r\n\t\tdispatch(getAuthUserData())\r\n\t} else {\r\n\t\tif(response.data.resultCode === 10) {\r\n\t\t\tdispatch(getCaptchaUrl());\r\n\t\t}\r\n\t\tdispatch(setLoginSuccess(false, response.data.messages[0]))\r\n\t}\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n\tconst response = await securityAPI.getCaptchaUrl();\r\n\tconst captchaUrl = response.data.url;\r\n\tdispatch(getCaptchaUrlSuccess(captchaUrl));\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n\tlet response = await authAPI.logout();\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(setAuthUserData(null, null, null, false))\r\n\t}\r\n}\r\n\r\nexport default authReducer;","import {getAuthUserData} from \"../Auth/auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\nconst HAS_ERROR = 'HAS-ERROR';\r\n\r\nlet initialState = {\r\n\tinitialized: false,\r\n\terrorData: {\r\n\t\thasError: false,\r\n\t\terrorMessage: null\r\n\t}\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase INITIALIZED_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinitialized: true\r\n\t\t\t}\r\n\t\tcase HAS_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorData: {...action.payload}\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS})\r\nexport const toggleHasError = (errorData = [false, null]) => ({\r\n\ttype: HAS_ERROR,\r\n\tpayload: {hasError: errorData[0], errorMessage: errorData[1]}\r\n});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n\tlet promise = dispatch(getAuthUserData());\r\n\r\n\tPromise.all([promise])\r\n\t\t.then(() => {\r\n\t\t\tdispatch(initializedSuccess());\r\n\t\t});\r\n\r\n}\r\n\r\nexport default appReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"HeaderLogin_login__3-tLh\",\"loginUser\":\"HeaderLogin_loginUser__1FQzR\",\"loginInfo\":\"HeaderLogin_loginInfo__17EVv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2eMNL\",\"logo\":\"Header_logo__2ELnF\",\"darkMode\":\"Header_darkMode__2AwL2\",\"headerLogin\":\"Header_headerLogin__3ACPm\"};","import React from 'react';\r\nimport classes from './Preloader.module.css'\r\n\r\nlet Preloader = ({ flag = true }) => {\r\n    if (!flag) return \"\";\r\n\r\n    return <section className={classes.preloaderWrap}>\r\n        <div className={classes.preloaderPulse}/>\r\n    </section>\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__1jD1U\",\"sidebarLogin\":\"Sidebar_sidebarLogin__1beG-\",\"sidebarDarkMode\":\"Sidebar_sidebarDarkMode__2Idgq\",\"sidebar-appear\":\"Sidebar_sidebar-appear__sqHMi\"};","export const getAuthorizedId = state => state.auth.id\r\nexport const getIsAuth = state => state.auth.isAuth\r\nexport const getAuthLogin = state => state.auth.login\r\nexport const getAuthCaptcha = state => state.auth.captchaUrl","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloaderWrap\":\"Preloader_preloaderWrap__xCnQd\",\"preloaderPulse\":\"Preloader_preloaderPulse__3A8p_\"};","import React from \"react\";\r\nimport classes from \"./Button.module.css\";\r\n\r\nconst Button = props => {\r\n  let {className, attr} = props;\r\n\r\n  className = className ? className : \"\";\r\n\r\n  return <button {...attr} className={`${classes.button} ${className}`}>{props.children}</button>\r\n}\r\n\r\nexport default Button;\r\n","import { profileAPI, usersAPI } from '../../api/api'\r\nimport { reset, stopSubmit } from 'redux-form'\r\nimport { toggleHasError } from '../App/app-reducer'\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\r\n\r\nlet initialState = {\r\n\tposts : [\r\n\t\t{id: 1, post: 'Hi, how are you?', likesCount:7},\r\n\t\t{id: 2, post: 'It\\'s my first post', likesCount:15},\r\n\t\t{id: 3, post: 'Blala', likesCount:13},\r\n\t\t{id: 4, post: 'DADA my first post', likesCount:18},\r\n\t],\r\n\tprofile: null,\r\n\tstatus: null,\r\n\tisFetching: false\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_POST: {\r\n\t\t\tlet newPost = {\r\n\t\t\t\tid: 5,\r\n\t\t\t\tpost: action.newPostText, // state.newPostText --> action.newPostText\r\n\t\t\t\tlikesCount: 0\r\n\t\t\t};\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: [...state.posts, newPost],\r\n\t\t\t\t//newPostText: ''\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase SET_USER_PROFILE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: action.profile\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SET_STATUS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus: action.status\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase DELETE_POST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: state.posts.filter(p => p.id !== action.postId)\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SAVE_PHOTO_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: {...state.profile, photos:action.photos}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase TOGGLE_IS_FETCHING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisFetching: action.isFetching\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status })\r\nexport const addPost = (newPostText) => ({ type: ADD_POST , newPostText}) //add newPostText\r\nexport const deletePost = (postId) => ({ type: DELETE_POST , postId})\r\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS , photos})\r\nexport const toggleIsFetching = isFetching => ({type: TOGGLE_IS_FETCHING, isFetching});\r\n\r\nexport const addPostTC = newPost => dispatch => {\r\n\tdispatch(addPost(newPost));\r\n\tdispatch(reset('postForm'));\r\n}\r\n\r\nexport const getProfile = (userId) => async (dispatch) => {\r\n\ttry {\r\n\tlet response = await usersAPI.getProfile(userId)\r\n\tdispatch(setUserProfile(response.data));\r\n\t} catch (e) {\r\n\t\tlet msg = e.response.data.message;\r\n\t\tif (e.response.status >= 400 && e.response.status <= 500) {\r\n\t\t\tmsg = \"User is not exist\";\r\n\t\t}\r\n\t\tdispatch(toggleHasError([true, msg]));\r\n\t}\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n\tconst data = await profileAPI.getStatus(userId);\r\n\tdispatch(setStatus(data));\r\n}\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n\ttry {\r\n\t\tlet data = await profileAPI.updateStatus(status)\r\n\t\tif (data.resultCode === 0) {\r\n\t\t\tdispatch(setStatus(status));\r\n\t\t}\r\n\t} catch (error) {\r\n\t\t// some error\r\n\t}\r\n\r\n}\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n\tlet response = await profileAPI.savePhoto(file)\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(savePhotoSuccess(response.data.data.photos));\r\n\t}\r\n};\r\n\r\n//\r\nexport const updateProfile = (profile) => async (dispatch, getState) => {\r\n\tconst userId = getState().auth.id;\r\n\tconst data = await profileAPI.updateProfile(profile);\r\n\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(getProfile(userId));\r\n\t} else {\r\n\t\tdispatch(stopSubmit(\"editProfile\", {_error: data.messages[0]}));\r\n\t\treturn Promise.reject(data.messages[0]);\r\n\t}\r\n};\r\n\r\n\r\nexport default profileReducer;","import { reset } from 'redux-form'\r\n\r\nconst SEND_MESSAGE = 'SEND_MESSAGE'\r\n\r\nlet initialState = {\r\n\tdialogs: [\r\n\t\t{ id: 1, name: 'Dimych' },\r\n\t\t{ id: 2, name: 'Andrey' },\r\n\t\t{ id: 3, name: 'Sveta' },\r\n\t\t{ id: 4, name: 'Sasha' },\r\n\t\t{ id: 5, name: 'Roman' }\r\n\t],\r\n\tmessages: [\r\n\t\t{ id: 1, message: 'Hey', mine: false },\r\n\t\t{ id: 2, message: 'Yo', mine: false },\r\n\t\t{ id: 3, message: 'What\\'s up bro?', mine: false },\r\n\t\t{ id: 4, message: 'Yo', mine: true },\r\n\t\t{ id: 5, message: 'Nothing much', mine: true },\r\n\t\t{ id: 6, message: 'Just getting ready for graduation', mine: true }\r\n\t],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase SEND_MESSAGE:\r\n\t\t\tconst newMessage = {\r\n\t\t\t\tid: 7,\r\n\t\t\t\tmessage: action.message,\r\n\t\t\t\tmine: true\r\n\t\t\t};\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmessages: [...state.messages, {...newMessage}],\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const sendMessage = message => ({type: SEND_MESSAGE, message});\r\n\r\nexport const sendMessageTC = message => dispatch => {\r\n\tdispatch(sendMessage(message));\r\n\tdispatch(reset(\"dialogAddMessageForm\"));\r\n}\r\n\r\nexport default dialogsReducer;","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n\tbaseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n\twithCredentials: true,\r\n\theaders: {\r\n\t\t\"API-KEY\": \"7fca7198-457b-49d1-9d95-e65a5077b01b\"\r\n\t}\r\n});\r\n\r\nexport const usersAPI = {\r\n\tgetUsers(currentPage = 1, pageSize = 1) {\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.data\r\n\t\t\t});\r\n\t},\r\n\tfollow(userId) {\r\n\t\treturn instance.post(`follow/${userId}`)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.data\r\n\t\t\t});\r\n\t},\r\n\tunfollow(userId) {\r\n\t\treturn instance.delete(`follow/${userId}`)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.data\r\n\t\t\t});\r\n\t},\r\n\tgetProfile(userId) { ///////////////////////////////\r\n\treturn profileAPI.getProfile(userId);\r\n}\r\n}\r\n\r\nexport const profileAPI = {\r\n\tgetProfile(userId) {\r\n\t\treturn instance.get(`profile/${userId}`);\r\n\t},\r\n\t//\r\n\tupdateProfile(profile) {\r\n\t\treturn instance.put(`profile/`, profile)\r\n\t\t\t.then(response => response.data); ///////;\r\n\t},\r\n\t//\r\n\tgetStatus(userId) {\r\n\t\treturn instance.get(`profile/status/${userId}`)\r\n\t\t\t.then(response => response.data);////\r\n\t},\r\n\tupdateStatus(status) {\r\n\t\treturn instance.put(`profile/status`, {status})\r\n\t\t\t.then(response => response.data);////\r\n\t},\r\n\tsavePhoto(photoFile) {\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append(\"image\", photoFile);\r\n\t\treturn instance.put(`profile/photo`, formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const authAPI = {\r\n\tme() {\r\n\t\treturn instance.get(`auth/me`);\r\n\t},\r\n\tlogin(email, password, rememberMe = false, captcha = null) {\r\n\t\treturn instance.post(`auth/login`, {email, password, rememberMe, captcha});\r\n\t},\r\n\tlogout() {\r\n\t\treturn instance.delete(`auth/login`);\r\n\t}\r\n}\r\n\r\nexport const securityAPI = {\r\n\tgetCaptchaUrl() {\r\n\t\treturn instance.get(`security/get-captcha-url`);\r\n\t}\r\n}","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n\treturn items.map(el => {\r\n\t\tif (el[objPropName] === itemId) {\r\n\t\t\treturn {...el, ...newObjProps}\r\n\t\t}\r\n\t\treturn el;\r\n\t})\r\n}","import {usersAPI} from \"../../api/api\";\r\nimport {updateObjectInArray} from \"../../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_IN_PROGRESS = 'TOGGLE_IS_FOLLOWING_IN_PROGRESS';\r\n\r\nlet initialState = {\r\n\tusers : [ ],\r\n\tpageSize: 10,\r\n\ttotalUsersCount: 0,\r\n\tcurrentPage: 1,\r\n\tisFetching: true,\r\n\tfollowingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase FOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, \"id\", {followed: true} )\r\n\t\t\t}\r\n\t\tcase UNFOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, \"id\", {followed: false} )\r\n\t\t\t}\r\n\t\tcase SET_USERS : {\r\n\t\t\treturn  { ...state, users: action.users }\r\n\t\t}\r\n\t\tcase SET_CURRENT_PAGE : {\r\n\t\t\treturn  { ...state, currentPage: action.currentPage}\r\n\t\t}\r\n\t\tcase SET_TOTAL_USERS_COUNT : {\r\n\t\t\treturn  { ...state, totalUsersCount: action.count}\r\n\t\t}\r\n\t\tcase TOGGLE_IS_FETCHING : {\r\n\t\t\treturn  { ...state, isFetching: action.isFetching}\r\n\t\t}\r\n\t\tcase TOGGLE_IS_FOLLOWING_IN_PROGRESS : {\r\n\t\t\treturn  {\r\n\t\t\t\t...state,\r\n\t\t\t\tfollowingInProgress: action.isFetching\r\n\t\t\t\t\t? [...state.followingInProgress, action.userId]\r\n\t\t\t\t\t: state.followingInProgress.filter(id => id !== action.userId)\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId })\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount })\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_IN_PROGRESS, isFetching, userId })\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch(toggleIsFetching(true));\r\n\t\tdispatch(setCurrentPage(page));\r\n\r\n\t\tlet data = await usersAPI.getUsers(page, pageSize);\r\n\t\tdispatch(toggleIsFetching(false));\r\n\t\tdispatch(setUsers(data.items));\r\n\t\tdispatch(setTotalUsersCount(data.totalCount));\r\n\t}\r\n}\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n\tdispatch(toggleFollowingProgress(true, userId));\r\n\r\n\tlet data = await apiMethod(userId);\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(actionCreator(userId))\r\n\t}\r\n\tdispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tfollowUnfollowFlow(dispatch,userId,usersAPI.follow.bind(usersAPI), followSuccess);\r\n\t}\r\n}\r\nexport const unfollow = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tfollowUnfollowFlow(dispatch,userId,usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n\r\n\t}\r\n}\r\n\r\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Content_content__3IPdm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__36udU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"Body_body__1UlHV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burger\":\"HeaderBurger_burger__RKu-g\",\"burgerLines\":\"HeaderBurger_burgerLines__2JeU6\"};"],"sourceRoot":""}